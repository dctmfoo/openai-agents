{
  "schemaVersion": 1,
  "gateway": {
    "host": "127.0.0.1",
    "port": 8787
  },
  "features": {
    "compactionEnabled": false,
    "distillationEnabled": false
  },
  "memory": {
    "distillationEveryNItems": 20,
    "distillationMaxItems": 200,
    "distillationMode": "deterministic"
  },
  "childSafe": {
    "enabled": true,
    "maxMessageLength": 800,
    "blockedTopics": []
  },
  "semanticMemory": {
    "enabled": true,
    "embeddingProvider": "openai",
    "embeddingModel": "text-embedding-3-small",
    "embeddingDimensions": 1536,
    "syncIntervalMinutes": 15,
    "search": {
      "fusionMethod": "rrf",
      "vectorWeight": 0.7,
      "textWeight": 0.3,
      "minScore": 0.005
    }
  },
  "fileMemory": {
    "enabled": false,
    "uploadEnabled": false,
    "maxFileSizeMb": 20,
    "allowedExtensions": ["pdf", "txt", "md", "docx", "pptx", "csv", "json", "html"],
    "maxFilesPerScope": 200,
    "pollIntervalMs": 1500,
    "includeSearchResults": false,
    "maxNumResults": 5,
    "retention": {
      "enabled": false,
      "maxAgeDays": 30,
      "runIntervalMinutes": 360,
      "deleteOpenAIFiles": false,
      "maxFilesPerRun": 25,
      "dryRun": false,
      "keepRecentPerScope": 2,
      "maxDeletesPerScopePerRun": 10,
      "allowScopeIds": [],
      "denyScopeIds": [],
      "policyPreset": "exclude_children"
    }
  },
  "tools": {
    "shell": {
      "enabled": false,
      "timeoutMs": 30000,
      "maxOutputLength": 4096,
      "commandPolicy": {
        "parent": {
          "allowedPatterns": [],
          "blockedPatterns": []
        },
        "child": {
          "allowedPatterns": [],
          "blockedPatterns": []
        }
      }
    },
    "access": {
      "parent": {},
      "child": {}
    }
  }
}
